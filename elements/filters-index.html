<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../components/polymer-ui-toolbar/polymer-ui-toolbar.html">
<link rel="import" href="../components/polymer-ui-icon-button/polymer-ui-icon-button.html">
<link rel="import" href="../components/polymer-ui-icon/polymer-ui-icon.html">
<link rel="import" href="../components/polymer-localstorage/polymer-localstorage.html">
<link rel="import" href="../components/polymer-ui-sidebar-menu/polymer-ui-sidebar-menu.html">
<link rel="import" href="../components/polymer-ui-menu-item/polymer-ui-menu-item.html">
<link rel="import" href="../components/polymer-media-query/polymer-media-query.html">

<link rel="import" href="toolbar-units.html">
<link rel="import" href="habitat-search.html">

<polymer-element name="filters-index" noscript>
  <template>
    <polymer-ui-toolbar theme="polymer-ui-dark-theme" class="align-center polymer-ui-dark-theme flexbox" style="z-index:2">

      <polymer-ui-icon-button icon="trash" class="polymer-ui-dark-theme" on-click="{{trash}}"></polymer-ui-icon-button>
      
      <div>What factors are most important to you?</div>
      
      <toolbar-units units="{{units}}" flex></toolbar-units>

      <button type="button" class="btn btn-primary btn-lg" style="margin-right:10px;height:46px;" on-click="{{save}}">Search <polymer-ui-icon icon="shortcut"></polymer-ui-icon></button>
    </polymer-ui-toolbar>

	<polymer-ui-sidebar-menu valueattr="lbl" selected="{{item}}" theme="polymer-ui-dark-theme" style="position:absolute;top:0;width:25%;min-width:150px;">
	  <polymer-ui-menu-item icon="{{costIcon}}" lbl="Cost" label="Cost"></polymer-ui-menu-item>
	  <polymer-ui-menu-item icon="{{difficultyIcon}}" lbl="Difficulty" label="Care & Difficulty"></polymer-ui-menu-item>
	  <polymer-ui-menu-item icon="{{behaviourIcon}}" lbl="Behaviour" label="Species Behaviour"></polymer-ui-menu-item>
	  <polymer-ui-menu-item icon="{{sizeIcon}}" lbl="Size" label="Species Size"></polymer-ui-menu-item>
	  <polymer-ui-menu-item icon="{{sustainabilityIcon}}" lbl="Sustainability" label="Sustainability"></polymer-ui-menu-item>
	  <polymer-ui-menu-item icon="{{habitatIcon}}" lbl="Habitat" label="Tank Appearance / Habitat"></polymer-ui-menu-item>
	</polymer-ui-sidebar-menu>

	<polymer-media-query query="max-width: 600px" queryMatches="{{phoneScreen}}"></polymer-media-query>
	
	<div style="{{phoneScreen? 'margin-left:150px':'margin-left:25%'}};">
	  <template if="{{item=='Cost'}}">
		<div class="panel info">
		  <h2>Cost</h2>
		  <em>It is important to buy fish within your budget.</em>
		  <p>
		  - <input type="checkbox"/>Max price <input type="text"/>
		  </p>
		  <p/>
		  There are many reasons why a fish may be expensive - a higher cost doesn't mean the fish is better or worse.
		  But in general, the least expensive fish species make the best pets.
		  
		  <h3>Popular fish usually have the lowest price</h3>
		  Popular species make up the majority of sales at a pet store. This means pet stores can make larger volume 
		  purchases, and sell them quicker than other species driving down their costs.
		  <br/>
		  <h3>Cheaper fish are usually hardier</h3>
		  Any fish that dies at the pet store costs the store money, so hardier fish which are less likely to die will
		  cost the store less to stock.
		  <br/>
		  <h3>Cheaper fish usually breed easily</h3>
		  Any fish that breeds quickly and easily will cost less to produce.  This means less can be bought, both initially and 
		  to replace natural attrition as the fish will reproduce to appropriate numbers in their tank.
		  <p/>
		  <hr/>
		  When making an investment into a more expensive fish, it is important to notet here are many reasons a fish 
		  may die irregardless of the amount and quality of care put into the hobby, such as:
		  <ul>
			<li>Poor genetics / overbreeding,</li>
			<li>jumpers,</li>
			<li>gender balancing,</li>
			<li>dominance / bullying,</li>
			<li>bad temperment,</li>
			<li>picky eaters,</li>
			<li>natural causes,</li>
			<li>sucked into filters,</li>
			<li>general accidents, and </li>
			<li>equipment failures or loss of power.</li>
		  </ul>
		  
		  Different fish have different requirements, meaning different aquarium equipment is necessisary.
		  <p>
		  Some freshwater fish can be kept at room temperature, meaning no heater is required.<br/>
		  - <input type="checkbox"/>room temperature
		  </p>
		  <p>
		  Some fish require higher water flow, meaning additional powerheads need to be purchased.  Other fish
		  demand low flow, so no or less expensive aggitation such as air pumps can be used.<br/>
		  - <input type="checkbox"/>low flow
		  </p>
		</div>
	  </template>
	  <template if="{{item=='Difficulty'}}">
		<div class="panel info">
		  <h2>Difficulty</h2>
		  There are a lot of mistakes that can lead to loss of livestock:
		  <ul>
			<li>improper acclimation,</li>
			<li>variations in water parameters,</li>
			<li>die on transit,</li>
			<li>improper habitat,</li>
			<li>human error,<li>
			<li>prone to disease,<li>
			<li>poor water quality, and</li>
			<li>improperly cycled tank.</li>
		  </ul>
		  <br/>
		  Some species are hardier, and able to better survive life in an aquarium.  Other species have exact requirements 
		  increasing their difficulty to aquarists.
		  <p>
			- <input type="checkbox"/>hardy / tolerant<br/>
			- <input type="checkbox"/>easy feeders<br/>
		  </p>
		</div>
	  </template>
	  <template if="{{item=='Behaviour'}}">
		<div class="panel info">		  
		  <h2>Behaviour and Characteristics</h2>
		  - <input type="checkbox"/>community fish<br/>
		  - <input type="checkbox"/>fast swimmers<br/>
		  - <input type="checkbox"/>delicate<br/>
		  - <input type="checkbox"/>schooling<br/>
		  - <input type="checkbox"/>breeding<br/>
		  - <input type="checkbox"/>bottom feeders / clean up crew<br/>
		</div>
	  </template>
	  <template if="{{item=='Size'}}">
		<div class="panel info">
		  <h2>Species Sizes</h2>
		  This application will automatically filter out fish too large for your tank, but if you want to 
		   override this behaviour or further limit your results, check your options below:
		   <p/>
		  - <input type="checkbox"/>nano<br/>
		  - <input type="checkbox"/>small<br/>
		  - <input type="checkbox"/>medium<br/>
		  - <input type="checkbox"/>large<br/>
		  <p/>
		  All sizes are based on typical adult length, purchase sizes tend to be much smaller since most stores 
		  sell juveniles.
		</div>
	  </template>
	  <template if="{{item=='Sustainability'}}">
		<div class="panel info">
		  <h2>Sustainability</h2>
		  Most species available in the aquarium trade are sourced directly from the wild.  This isn't always an issue, as
		  may species are in no jeopardy of overfishing.  There are some species that may be relativily rare or endangered in
		  the wild, or require special permits for import.
		  <p>
		  - <input type="checkbox"/>tank bred<br/>
		  - <input type="checkbox"/>non-endangered<br/>
		  </p>
		</div>
	  </template>
	  <template if="{{item=='Habitat'}}">
		<div class="panel info">
		  <h2>Natural Habitat and Climate</h2>
		  Species can tolerate a set range of conditions in the wild, and this collection of conditions is referred to as a habitat.
		  <br/>
		  While some habitats share similiar conditions, and habitat conditions may vary from place to place around the world, 
		  many fish can only survive in specific conditions of a single habitat.
		  <p/>
		  Some of the conditions of a habitat include:
		  <ul>
			<li>Temperature,</li>
			<li>Salinity,</li>
			<li>pH,</li>
			<li>Water Hardness,</li>
			<li>Water flow,</li>
			<li>Vegitation density,</li>
			<li>Amount of light, and</li>
			<li>Biological density.</li>
		  </ul>
		  
		  <habitat-search></habitat-search>
		</div>
	  </template>
	</div>	

    <polymer-localstorage name="units" value="{{units}}" id="units"></polymer-localstorage>
  </template>
  <style>
	  polymer-ui-sidebar-menu {
        width: 240px;
        height: 100%;
      }
      html, body {
        height: 100%;
      }      
      </style>
  <script>
    Polymer('filters-index',{
	  item: 'Cost',
      save: function(){
		document.location.href = 'search.html';
      },  
      trash: function(){
		if(confirm('Do you want clear all your selections and start a new tank?')){
		  localStorage.clear();
		  document.location.href='index.html'
		}
      }
    });
  </script>    
</polymer-element>